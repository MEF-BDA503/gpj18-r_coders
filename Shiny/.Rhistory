}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(year == 2017) {
print("-")
}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(year == "2017") {
print("-")
}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
print("YEAR")
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
print("YEAR-ROW"+row)
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
print("YEAR-ROW",row)
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
print("YEAR-ROW",year)
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
print(paste("YEAR-ROW",year))
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(year==NA){
print(paste("YEAR-ROW",year))}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(year > 0){
print(paste("YEAR-ROW",year))}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
print(paste("YEAR-ROW",year))
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(year == '2017'){
print(paste("YEAR-ROW",year))}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(strcmp(year, "2017") >0){
print(paste("YEAR-ROW",year))}
}
library(readxl)
library(tidyverse)
library(ggplot2)
library(dplyr)
library(stringr)
library(readxl)
library(tidyverse)
library(ggplot2)
library(dplyr)
library(stringr)
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(strcmp(year, "2017") >0){
print(paste("YEAR-ROW",year))}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(year >= "2017"){
print(paste("YEAR-ROW",year))}
}
str(raw_data)
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(year > 2017){
print(paste("YEAR-ROW",year))}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(year >= 2017){
print(paste("YEAR-ROW",year))}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
print(paste("YEAR-ROW",year))
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(year == 2017)
print(paste("YEAR-ROW",year))
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
gb <- 3
ag <- 3
if (gb > 3 & ag > 3 )
print(paste("YEAR-ROW",year))
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
gb <- 3
ag <- 3
if (gb > 3 & ag > 3 )
print(paste("YEAR-ROW",year))
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
gb <- 3
ag <- 3
if (gb > 3 & ag > 3 ){
print(paste("YEAR-ROW",year))}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
gb <- 3
ag <- 3
if (gb > 3 & ag > 3 )
{
print(paste("YEAR-ROW",year))
}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
gb <- 3
ag <- 3
if (gb > 3 | ag > 3 )
{
print(paste("YEAR-ROW",year))
}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
gb <- 3
ag <- 3
if (gb > 3 | ag > 3 )
{
print(paste("YEAR-ROW",year))
}
}
gb <- 3
ag <- 3
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if (gb > 3 | ag > 3 )
{
print(paste("YEAR-ROW",year))
}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
print(paste("YEAR-ROW",year))
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
str(year)
print(paste("YEAR-ROW",year))
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(year  != 0)
print(paste("YEAR-ROW",year))
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
str(year)
print(paste("YEAR-ROW",year))
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
year == 2017
print(paste("YEAR-ROW",year))
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
year == 2017{
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
year == 2017
print(paste("YEAR-ROW",year))
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(year == 2017){
print(paste("YEAR-ROW",year))
}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
print(paste("YEAR-ROW",year))
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(year = 2017){
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(year == 2017){
print(paste("YEAR-ROW",year))
}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(year != 2017){
print(paste("YEAR-ROW",year))
}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(year != TRUE){
print(paste("YEAR-ROW",year))
}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(year != NA){
print(paste("YEAR-ROW",year))
}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(year == NA){
print(paste("YEAR-ROW",year))
}
}
raw_data$Year <- is.na(raw_data$Year)  <- 0
for (row in 1:nrow(exp_data)) {
year <- exp_data[row, "Year"]
if(is.na(year))
{
print("---")
}
if(year == 2017){
print(paste("YEAR-ROW",year))
}
}
raw_data$Year <- is.na(raw_data$Year)  <- 0
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(is.na(year))
{
print("---")
}
if(year == 2017){
print(paste("YEAR-ROW",year))
}
}
raw_data$Year <- is.na(raw_data$Year)  <- 0
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(is.na(year))
{
print("---")
}
if(year == 2017){
print(paste("YEAR-ROW",year))
}
}
raw_data$Year <- is.na(raw_data$Year)  <- 0
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(is.na(year))
{
print("---")
}
if(year == 2017){
print(paste("YEAR-ROW",year))
}
}
raw_data$Year <- is.na(raw_data$Year)  <- 0
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(is.na(year))
{
print("---")
}
if(year == 2017){
print(paste("YEAR-ROW",year))
}
}
raw_data<-readxl::read_excel("/Users/macboookair/Desktop/bda/gpj18-r_coders/import_data/Import.xlsx",skip=7,col_names=FALSE)
head(raw_data)
tail(raw_data)
colnames(raw_data) <- c("Year","Sector_Type_Code","Sector_Name",	"Total_Amount",	"January",	"February",	"March",	"April",	"May",	"June",	"July","August",	"September",	"October"	,"November","December")
head(raw_data)
tail(raw_data)
raw_data <- raw_data[rowSums(is.na(raw_data)) != ncol(raw_data),]
raw_data <- raw_data[rowSums(is.na(raw_data)) != ncol(raw_data),]
raw_data <- raw_data[rowSums(is.na(raw_data)) != ncol(raw_data),]
head(raw_data)
cols = c(4:15);
raw_data[,cols] = suppressWarnings(apply(raw_data[,cols], 2, function(x) as.numeric(as.character(x))));
str(raw_data)
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(is.na(year))
{
print("---")
}
if(year == 2017){
print(paste("YEAR-ROW",year))
}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(is.na(year))
{
print("---")
}
if(!is.na(year) & year == 2017){
print(paste("YEAR-ROW",year))
}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
year <- 2018
if(!is.na(year) & year == 2017){
print(paste("YEAR-ROW",year))
break
}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
year <- 2018
if(!is.na(year) & year == 2017){
print(paste("YEAR-ROW",year))
break
}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
year <- 2018
if(!is.na(year) & year == 2017){
print(paste("YEAR-ROW",year))
break
}
}
head(raw_data)
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(!is.na(year) & year == 2017){
print(paste("YEAR-ROW",year))
}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(!is.na(year) & year == 2017){
print(paste("YEAR-ROW",year))
break
}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
year <- 2018
if(!is.na(year) & year == 2017){
print(paste("YEAR-ROW",year))
break
}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
year <- 2018
if(!is.na(year) & year == 2017){
print(paste("YEAR-ROW",year))
break
}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(!is.na(year) & year == 2017){
print(paste("YEAR-ROW",year))
break
}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
row$Year = 2018
if(!is.na(year) & year == 2017){
print(paste("YEAR-ROW",year))
break
}
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(!is.na(year) & year == 2017){
print(paste("YEAR-ROW",year))
break
}
year <- 2018
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(!is.na(year) & year == 2017){
print(paste("YEAR-ROW",year))
break
}
row$Year <- 2018
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(!is.na(year) & year == 2017){
print(paste("YEAR-ROW",year))
print(paste("row-i",i))
break
}
raw_data[row, "Year"] <- 2018
}
for (row in 1:nrow(exp_data)) {
year <- exp_data[row, "Year"]
if(!is.na(year) & year == 2017){
print(paste("YEAR-ROW",year))
print(paste("row-i",i))
break
}
exp_data[row, "Year"] <- 2018
}
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(!is.na(year) & year == 2017){
print(paste("YEAR-ROW",year))
print(paste("row-i",i))
break
}
raw_data[row, "Year"] <- 2018
}
v_year <- 2017
for (row in 1:nrow(raw_data)) {
year <- raw_data[row, "Year"]
if(!is.na(year) & year == v_year){
print(paste("YEAR-ROW",year))
print(paste("row-i",i))
v_year <- v_year - 1
}
raw_data[row, "Year"] <- v_year + 1
if (v_year==2008){
break
}
}
head(raw_data)
exp_data_v2 <- raw_data %>%
slice(6:391)%>% filter(Sector_Name != "Toplam -Total")
tail(exp_data_v2)
gather(exp_data_v2, year, value, `2001`:`2003`) ## Note the backticks
exp_data_v3 <-
exp_data_v2 %>%
gather(key=Month,value=Amount,-Year,-Sector_Type_Code,-Sector_Name)
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="January","01")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="February","02")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="March","03")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="April","04")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="May","05")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="June","06")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="July","07")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="August","08")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="September","09")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="October","10")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="November","11")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="December","12")
exp_data_v4 <- exp_data_v3 %>% mutate(Date = lubridate::as_date(paste(Year,
as.integer(Month), as.integer("01"), sep = "-")))
exp_data_v5 <- exp_data_v4 %>% select ( Date, Sector_Type_Code, Sector_Name, Amount)
str(exp_data_v5)
exp_data_v3 <-
exp_data_v2 %>%
gather(key=Month,value=Amount,-Year,-Sector_Type_Code,-Sector_Name)
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="January","01")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="February","02")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="March","03")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="April","04")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="May","05")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="June","06")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="July","07")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="August","08")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="September","09")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="October","10")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="November","11")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="December","12")
exp_data_v4 <- exp_data_v3 %>% mutate(Date = lubridate::as_date(paste(Year,
as.integer(Month), as.integer("01"), sep = "-")))
exp_data_v2 <- raw_data %>%
slice(6:391)%>% filter(Sector_Name != "Toplam -Total")
head(exp_data_v2)
tail(exp_data_v2)
exp_data_v2 <- raw_data %>%
slice(6:391)%>% filter(Sector_Name != "Toplam -Total")
exp_data_v3 <-
exp_data_v2 %>%
gather(key=Month,value=Amount,-Year,-Sector_Type_Code,-Sector_Name)
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="January","01")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="February","02")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="March","03")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="April","04")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="May","05")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="June","06")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="July","07")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="August","08")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="September","09")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="October","10")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="November","11")
exp_data_v3$Month <- replace(exp_data_v3$Month,exp_data_v3$Month=="December","12")
exp_data_v4 <- exp_data_v3 %>% mutate(Date = lubridate::as_date(paste(Year,
as.integer(Month), as.integer("01"), sep = "-")))
exp_data_v5 <- exp_data_v4 %>% select ( Date, Sector_Type_Code, Sector_Name, Amount)
exp_data_v3 <-
exp_data_v2 %>%
gather(key=Month,value=Amount,-Year,-Sector_Type_Code,-Sector_Name)
shiny::runApp('Desktop/bda/gpj18-r_coders/Shiny')
runApp('Desktop/bda/gpj18-r_coders/Shiny')
